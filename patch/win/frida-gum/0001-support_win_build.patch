From b9a9ab053f976d969396c3ae50e7b2448b9f2ce3 Mon Sep 17 00:00:00 2001
From: feicong <fei_cong@hotmail.com>
Date: Tue, 9 Feb 2021 05:33:01 +0000
Subject: [PATCH] support_win_build

---
 bindings/gumjs/gumjs-common.props | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/bindings/gumjs/gumjs-common.props b/bindings/gumjs/gumjs-common.props
index e70f5a45..32caaad6 100644
--- a/bindings/gumjs/gumjs-common.props
+++ b/bindings/gumjs/gumjs-common.props
@@ -188,7 +188,7 @@
       <Outputs>$(IntDir)gumjs\bindings.stamp;$(IntDir)gumjs\gumquickcodewriter.inc;$(IntDir)gumjs\gumquickcodewriter-x86.inc;$(IntDir)gumjs\gumquickcodewriter-arm.inc;$(IntDir)gumjs\gumquickcodewriter-thumb.inc;$(IntDir)gumjs\gumquickcodewriter-arm64.inc;$(IntDir)gumjs\gumquickcodewriter-mips.inc;$(IntDir)gumjs\gumquickcodewriter-fields.inc;$(IntDir)gumjs\gumquickcodewriter-fields-x86.inc;$(IntDir)gumjs\gumquickcodewriter-fields-arm.inc;$(IntDir)gumjs\gumquickcodewriter-fields-thumb.inc;$(IntDir)gumjs\gumquickcodewriter-fields-arm64.inc;$(IntDir)gumjs\gumquickcodewriter-fields-mips.inc;$(IntDir)gumjs\gumquickcodewriter-methods.inc;$(IntDir)gumjs\gumquickcodewriter-methods-x86.inc;$(IntDir)gumjs\gumquickcodewriter-methods-arm.inc;$(IntDir)gumjs\gumquickcodewriter-methods-thumb.inc;$(IntDir)gumjs\gumquickcodewriter-methods-arm64.inc;$(IntDir)gumjs\gumquickcodewriter-methods-mips.inc;$(IntDir)gumjs\gumquickcodewriter-init.inc;$(IntDir)gumjs\gumquickcodewriter-init-x86.inc;$(IntDir)gumjs\gumquickcodewriter-init-arm.inc;$(IntDir)gumjs\gumquickcodewriter-init-thumb.inc;$(IntDir)gumjs\gumquickcodewriter-init-arm64.inc;$(IntDir)gumjs\gumquickcodewriter-init-mips.inc;$(IntDir)gumjs\gumquickcodewriter-dispose.inc;$(IntDir)gumjs\gumquickcodewriter-dispose-x86.inc;$(IntDir)gumjs\gumquickcodewriter-dispose-arm.inc;$(IntDir)gumjs\gumquickcodewriter-dispose-thumb.inc;$(IntDir)gumjs\gumquickcodewriter-dispose-arm64.inc;$(IntDir)gumjs\gumquickcodewriter-dispose-mips.inc;$(IntDir)gumjs\gumquickcoderelocator.inc;$(IntDir)gumjs\gumquickcoderelocator-x86.inc;$(IntDir)gumjs\gumquickcoderelocator-arm.inc;$(IntDir)gumjs\gumquickcoderelocator-thumb.inc;$(IntDir)gumjs\gumquickcoderelocator-arm64.inc;$(IntDir)gumjs\gumquickcoderelocator-mips.inc;$(IntDir)gumjs\gumquickcoderelocator-fields.inc;$(IntDir)gumjs\gumquickcoderelocator-fields-x86.inc;$(IntDir)gumjs\gumquickcoderelocator-fields-arm.inc;$(IntDir)gumjs\gumquickcoderelocator-fields-thumb.inc;$(IntDir)gumjs\gumquickcoderelocator-fields-arm64.inc;$(IntDir)gumjs\gumquickcoderelocator-fields-mips.inc;$(IntDir)gumjs\gumquickcoderelocator-methods.inc;$(IntDir)gumjs\gumquickcoderelocator-methods-x86.inc;$(IntDir)gumjs\gumquickcoderelocator-methods-arm.inc;$(IntDir)gumjs\gumquickcoderelocator-methods-thumb.inc;$(IntDir)gumjs\gumquickcoderelocator-methods-arm64.inc;$(IntDir)gumjs\gumquickcoderelocator-methods-mips.inc;$(IntDir)gumjs\gumquickcoderelocator-init.inc;$(IntDir)gumjs\gumquickcoderelocator-init-x86.inc;$(IntDir)gumjs\gumquickcoderelocator-init-arm.inc;$(IntDir)gumjs\gumquickcoderelocator-init-thumb.inc;$(IntDir)gumjs\gumquickcoderelocator-init-arm64.inc;$(IntDir)gumjs\gumquickcoderelocator-init-mips.inc;$(IntDir)gumjs\gumquickcoderelocator-dispose.inc;$(IntDir)gumjs\gumquickcoderelocator-dispose-x86.inc;$(IntDir)gumjs\gumquickcoderelocator-dispose-arm.inc;$(IntDir)gumjs\gumquickcoderelocator-dispose-thumb.inc;$(IntDir)gumjs\gumquickcoderelocator-dispose-arm64.inc;$(IntDir)gumjs\gumquickcoderelocator-dispose-mips.inc;$(IntDir)gumjs\gumv8codewriter.inc;$(IntDir)gumjs\gumv8codewriter-x86.inc;$(IntDir)gumjs\gumv8codewriter-arm.inc;$(IntDir)gumjs\gumv8codewriter-thumb.inc;$(IntDir)gumjs\gumv8codewriter-arm64.inc;$(IntDir)gumjs\gumv8codewriter-mips.inc;$(IntDir)gumjs\gumv8codewriter-fields.inc;$(IntDir)gumjs\gumv8codewriter-fields-x86.inc;$(IntDir)gumjs\gumv8codewriter-fields-arm.inc;$(IntDir)gumjs\gumv8codewriter-fields-thumb.inc;$(IntDir)gumjs\gumv8codewriter-fields-arm64.inc;$(IntDir)gumjs\gumv8codewriter-fields-mips.inc;$(IntDir)gumjs\gumv8codewriter-methods.inc;$(IntDir)gumjs\gumv8codewriter-methods-x86.inc;$(IntDir)gumjs\gumv8codewriter-methods-arm.inc;$(IntDir)gumjs\gumv8codewriter-methods-thumb.inc;$(IntDir)gumjs\gumv8codewriter-methods-arm64.inc;$(IntDir)gumjs\gumv8codewriter-methods-mips.inc;$(IntDir)gumjs\gumv8codewriter-init.inc;$(IntDir)gumjs\gumv8codewriter-init-x86.inc;$(IntDir)gumjs\gumv8codewriter-init-arm.inc;$(IntDir)gumjs\gumv8codewriter-init-thumb.inc;$(IntDir)gumjs\gumv8codewriter-init-arm64.inc;$(IntDir)gumjs\gumv8codewriter-init-mips.inc;$(IntDir)gumjs\gumv8codewriter-dispose.inc;$(IntDir)gumjs\gumv8codewriter-dispose-x86.inc;$(IntDir)gumjs\gumv8codewriter-dispose-arm.inc;$(IntDir)gumjs\gumv8codewriter-dispose-thumb.inc;$(IntDir)gumjs\gumv8codewriter-dispose-arm64.inc;$(IntDir)gumjs\gumv8codewriter-dispose-mips.inc;$(IntDir)gumjs\gumv8coderelocator.inc;$(IntDir)gumjs\gumv8coderelocator-x86.inc;$(IntDir)gumjs\gumv8coderelocator-arm.inc;$(IntDir)gumjs\gumv8coderelocator-thumb.inc;$(IntDir)gumjs\gumv8coderelocator-arm64.inc;$(IntDir)gumjs\gumv8coderelocator-mips.inc;$(IntDir)gumjs\gumv8coderelocator-fields.inc;$(IntDir)gumjs\gumv8coderelocator-fields-x86.inc;$(IntDir)gumjs\gumv8coderelocator-fields-arm.inc;$(IntDir)gumjs\gumv8coderelocator-fields-thumb.inc;$(IntDir)gumjs\gumv8coderelocator-fields-arm64.inc;$(IntDir)gumjs\gumv8coderelocator-fields-mips.inc;$(IntDir)gumjs\gumv8coderelocator-methods.inc;$(IntDir)gumjs\gumv8coderelocator-methods-x86.inc;$(IntDir)gumjs\gumv8coderelocator-methods-arm.inc;$(IntDir)gumjs\gumv8coderelocator-methods-thumb.inc;$(IntDir)gumjs\gumv8coderelocator-methods-arm64.inc;$(IntDir)gumjs\gumv8coderelocator-methods-mips.inc;$(IntDir)gumjs\gumv8coderelocator-init.inc;$(IntDir)gumjs\gumv8coderelocator-init-x86.inc;$(IntDir)gumjs\gumv8coderelocator-init-arm.inc;$(IntDir)gumjs\gumv8coderelocator-init-thumb.inc;$(IntDir)gumjs\gumv8coderelocator-init-arm64.inc;$(IntDir)gumjs\gumv8coderelocator-init-mips.inc;$(IntDir)gumjs\gumv8coderelocator-dispose.inc;$(IntDir)gumjs\gumv8coderelocator-dispose-x86.inc;$(IntDir)gumjs\gumv8coderelocator-dispose-arm.inc;$(IntDir)gumjs\gumv8coderelocator-dispose-thumb.inc;$(IntDir)gumjs\gumv8coderelocator-dispose-arm64.inc;$(IntDir)gumjs\gumv8coderelocator-dispose-mips.inc</Outputs>
       <Message>Generating bindings</Message>
       <Command>mkdir $(IntDir)gumjs 2&gt;NUL
-generate-bindings.py $(ProjectDir)..\..\gum $(IntDir)gumjs || exit 1
+py -3 generate-bindings.py $(ProjectDir)..\..\gum $(IntDir)gumjs || exit 1
 REM. &gt; $(IntDir)gumjs\bindings.stamp
 </Command>
       <LinkObjects>false</LinkObjects>
@@ -202,7 +202,7 @@ REM. &gt; $(IntDir)gumjs\bindings.stamp
       <Outputs>$(IntDir)gumjs\runtime.stamp;$(IntDir)gumjs\gumquickscript-runtime.h;$(IntDir)gumjs\gumquickscript-objc.h;$(IntDir)gumjs\gumquickscript-java.h;$(IntDir)gumjs\gumv8script-runtime.h;$(IntDir)gumjs\gumv8script-objc.h;$(IntDir)gumjs\gumv8script-java.h;$(IntDir)gumjs\gumcmodule-runtime.h</Outputs>
       <Message>Generating runtime</Message>
       <Command>mkdir $(IntDir)gumjs 2&gt;NUL
-generate-runtime.py $(PlatformShortName) $(ProjectDir) ..\..\gum $(SolutionDir)build\sdk-windows\$(Platform)-$(Configuration)\include\capstone $(SolutionDir)build\sdk-windows\$(Platform)-$(Configuration)\lib $(SolutionDir)build\tmp-windows\Win32-$(Configuration)\gumquickcompile\gumquickcompile.exe $(IntDir)gumjs || exit 1
+py -3 generate-runtime.py $(PlatformShortName) $(ProjectDir) ..\..\gum $(SolutionDir)build\sdk-windows\$(Platform)-$(Configuration)\include\capstone $(SolutionDir)build\sdk-windows\$(Platform)-$(Configuration)\lib $(SolutionDir)build\tmp-windows\Win32-$(Configuration)\gumquickcompile\gumquickcompile.exe $(IntDir)gumjs || exit 1
 REM. &gt; $(IntDir)gumjs\runtime.stamp
 </Command>
       <LinkObjects>false</LinkObjects>
-- 
2.30.0.windows.2

